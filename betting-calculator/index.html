<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bet Hedge Calculator | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{font-family:Arial;background:#f6f7fb;margin:0}
header{background:#fff;padding:14px 24px;box-shadow:0 2px 4px rgba(0,0,0,.05)}
header a{text-decoration:none;color:#2563eb;font-size:20px;font-weight:bold;text-decoration:none}
.container{max-width:520px;margin:40px auto;background:#fff;padding:24px;border-radius:14px;box-shadow:0 8px 30px rgba(0,0,0,.1)}
h2{margin-top:0}
.bet-row{display:flex;gap:8px;margin-top:10px}
.bet-row select,.bet-row input{flex:1;padding:8px;font-size:15px;border:1px solid #ccc;border-radius:6px}
.remove{width:32px;text-align:center;font-size:18px;line-height:32px;cursor:pointer;color:#dc2626;font-weight:bold}
button{margin-top:16px;width:100%;padding:12px;font-size:17px;background:#2563eb;color:#fff;border:none;border-radius:8px;cursor:pointer}
small{color:#666;font-size:13px}
.result{margin-top:24px;background:#eef4ff;padding:18px;border-radius:10px}
.green{color:#16a34a;font-weight:bold}
.red{color:#dc2626;font-weight:bold}
</style>
</head>

<body>
<header><a href="/">← CalcWorld Home</a></header>

<div class="container">
<h2>Bet Hedge & Cutting Calculator</h2>

<label>How many outcomes?</label>
<select id="mode" onchange="resetAll()" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ccc;">
  <option value="2">2 — Team A & Team B</option>
  <option value="3">3 — Team A, Team B & Draw</option>
</select>

<div id="betsArea"></div>

<button onclick="addRow()">+ Add More Bet</button>
<button onclick="calc()">Calculate Bets</button>

<div id="output" class="result" style="display:none"></div>

</div>

<script>
let outcomes = ['A','B'];

function resetAll(){
  const mode = document.getElementById('mode').value;
  outcomes = mode === '2' ? ['A','B'] : ['A','B','D'];
  document.getElementById('betsArea').innerHTML = '';
  addRow();
  calc();
}

function addRow(){
  const area = document.getElementById('betsArea');
  const row = document.createElement('div');
  row.className = 'bet-row';

  // dropdown
  const sel = document.createElement('select');
  outcomes.forEach(o=>{
    sel.add(new Option(o==='A'?'Team A':o==='B'?'Team B':'Draw',o));
  });

  // stake
  const stake = document.createElement('input');
  stake.type='number';
  stake.min='1';
  stake.value='100';

  // odds
  const odds = document.createElement('input');
  odds.type='number';
  odds.step='0.01';
  odds.min='1.01';
  odds.value='2.0';

  // remove btn
  const del = document.createElement('div');
  del.className='remove';
  del.textContent='✖';
  del.onclick=()=>{row.remove();calc();};

  // change triggers recalculation
  sel.oninput=calc;
  stake.oninput=calc;
  odds.oninput=calc;

  row.appendChild(sel);
  row.appendChild(stake);
  row.appendChild(odds);
  row.appendChild(del);

  area.appendChild(row);
}

function calc(){
  const rows = Array.from(document.querySelectorAll('.bet-row'));
  if(rows.length===0){output.style.display='none';return;}

  let winA=0,winB=0,winD=0;
  let stakeA=0,stakeB=0,stakeD=0;
  let total=0;

  rows.forEach(r=>{
    const team = r.children[0].value;
    const stake = +r.children[1].value;
    const odds = +r.children[2].value;
    if(!stake || !odds) return;

    total += stake;

    const profit = stake*(odds-1);

    if(team==='A'){winA+=profit; stakeB+=stake; stakeD+=stake;}
    if(team==='B'){winB+=profit; stakeA+=stake; stakeD+=stake;}
    if(team==='D'){winD+=profit; stakeA+=stake; stakeB+=stake;}
  });

  winA -= stakeA;
  winB -= stakeB;
  winD -= stakeD;

  const mode=document.getElementById('mode').value;

  let html=`<p><strong>Total stake placed:</strong> ₹${total}</p>`;
  html += `<p><strong>If Team A wins:</strong> ${fmt(winA)}</p>`;
  html += `<p><strong>If Team B wins:</strong> ${fmt(winB)}</p>`;
  if(mode==='3'){
    html += `<p><strong>If Draw happens:</strong> ${fmt(winD)}</p>`;
  }

  output.style.display='block';
  output.innerHTML=html;
}

function fmt(n){
  const r=Math.round(n);
  return r>=0?`<span class="green">₹${r}</span>`:`<span class="red">₹${r}</span>`;
}

resetAll();
</script>

</body>
</html>
