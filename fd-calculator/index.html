<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FD Calculator | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#f6f7f9;
}

/* Header */
header{
  background:#fff;
  padding:12px 16px;
  border-bottom:1px solid #e5e7eb;
}
header a{
  text-decoration:none;
  font-size:18px;
  font-weight:700;
  color:#2563eb;
}

/* Card */
.card{
  max-width:480px;
  margin:20px auto;
  background:#fff;
  padding:18px;
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}

h1{font-size:20px;margin-bottom:14px}
label{font-size:13px;font-weight:600;margin-top:14px;display:block}

input,select{
  width:100%;
  padding:9px;
  font-size:14px;
  margin-top:6px;
  border:1px solid #d1d5db;
  border-radius:7px;
}

input[type=range]{padding:0;height:6px}

.tenure{
  display:flex;
  gap:8px;
}

/* Result */
.result{
  background:#f1f5ff;
  padding:14px;
  border-radius:10px;
  margin-top:18px;
}
.result strong{font-size:18px}

/* Chart */
.chart{
  max-width:220px;
  margin:16px auto 0;
}
</style>
</head>

<body>

<header>
  <a href="https://calcworld.in/">CalcWorld</a>
</header>

<div class="card">
<h1>ðŸ“Œ Fixed Deposit Calculator</h1>

<!-- Deposit -->
<label>Deposit Amount (â‚¹)</label>
<input id="amount" inputmode="numeric" value="10,00,000">
<input type="range" id="amountRange" min="1000" max="100000000" step="1000">

<!-- Interest -->
<label>Interest Rate (% per year)</label>
<input id="rate" type="number" step="0.1" min="0.1" max="15" value="7">
<input type="range" id="rateRange" min="0.1" max="15" step="0.1">

<!-- Tenure -->
<label>Tenure</label>
<div class="tenure">
  <input id="tenureValue" type="number" min="1" value="1">
  <select id="tenureType">
    <option value="years">Years</option>
    <option value="months">Months</option>
    <option value="days">Days</option>
  </select>
</div>

<!-- Compounding -->
<label>Compounding Frequency</label>
<select id="compound">
  <option value="4">Quarterly (Recommended)</option>
  <option value="12">Monthly</option>
  <option value="1">Yearly</option>
</select>

<p style="font-size:12px;color:#555">
<strong>Compounding:</strong> how often interest is added back to your FD.
Most Indian banks compound quarterly, giving slightly higher returns.
</p>

<!-- Result -->
<div class="result">
  ðŸ’° Maturity Amount<br>
  <strong id="maturity">â‚¹0</strong><br><br>
  ðŸ“ˆ Interest Earned<br>
  <strong id="interest">â‚¹0</strong>
</div>

<div class="chart">
  <canvas id="donut"></canvas>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const amount=document.getElementById("amount");
const amountRange=document.getElementById("amountRange");
const rate=document.getElementById("rate");
const rateRange=document.getElementById("rateRange");
const tenureValue=document.getElementById("tenureValue");
const tenureType=document.getElementById("tenureType");
const compound=document.getElementById("compound");
const ctx=document.getElementById("donut").getContext("2d");

const MAX_AMOUNT=100000000;
const MAX_RATE=15;

function formatINR(n){
  return "â‚¹"+Math.round(n).toLocaleString("en-IN");
}
function parseINR(v){
  return parseInt(v.replace(/,/g,""))||0;
}

function clampInput(el,min,max){
  let v=parseFloat(el.value)||min;
  if(v<min) v=min;
  if(v>max) v=max;
  el.value=v;
  return v;
}

function tenureYears(){
  let v=parseInt(tenureValue.value)||1;
  if(tenureType.value==="years") return Math.min(v,20);
  if(tenureType.value==="months") return Math.min(v,12)/12;
  if(tenureType.value==="days") return Math.min(v,31)/365;
  return 0;
}

let chart;
function drawChart(p,i){
  if(chart) chart.destroy();
  chart=new Chart(ctx,{
    type:"doughnut",
    data:{
      datasets:[{
        data:[p,i],
        backgroundColor:["#2563eb","#93c5fd"]
      }]
    },
    options:{cutout:"65%",plugins:{legend:{display:false}}}
  });
}

function calculate(){
  let P=parseINR(amount.value);
  if(P>MAX_AMOUNT) P=MAX_AMOUNT;
  amount.value=P.toLocaleString("en-IN");
  amountRange.value=P;

  let r=clampInput(rate,0.1,MAX_RATE)/100;
  rateRange.value=rate.value;

  let t=tenureYears();
  let n=parseInt(compound.value);

  let A=P*Math.pow(1+r/n,n*t);
  let I=A-P;

  maturity.innerText=formatINR(A);
  interest.innerText=formatINR(I);
  drawChart(P,I);
}

amount.oninput=calculate;
amountRange.oninput=()=>{amount.value=parseInt(amountRange.value).toLocaleString("en-IN");calculate();}
rate.oninput=calculate;
rateRange.oninput=()=>{rate.value=rateRange.value;calculate();}
document.querySelectorAll("select,input").forEach(e=>e.oninput=calculate);

calculate();
</script>

</body>
</html>
