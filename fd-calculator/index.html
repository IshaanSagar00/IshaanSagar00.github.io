<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FD Calculator | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#f6f7f9;
}
header{
  background:#fff;
  padding:12px 16px;
  border-bottom:1px solid #e5e7eb;
}
header a{
  text-decoration:none;
  font-size:18px;
  font-weight:700;
  color:#2563eb;
}
.card{
  max-width:460px;
  margin:16px auto;
  background:#fff;
  padding:16px;
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}
h1{font-size:20px;margin-bottom:12px}
label{font-size:13px;font-weight:600;margin-top:12px;display:block}
input,select{
  width:100%;
  padding:8px;
  font-size:14px;
  margin-top:6px;
  border:1px solid #d1d5db;
  border-radius:7px;
}
input[type=range]{padding:0;height:6px}
.tenure{
  display:flex;
  gap:8px;
}
.result{
  background:#f1f5ff;
  padding:14px;
  border-radius:10px;
  margin-top:16px;
}
.result strong{font-size:18px}
.chart{
  max-width:200px;
  margin:14px auto 6px;
  text-align:center;
}
.fd-link{
  display:inline-block;
  margin-top:6px;
  font-size:13px;
  color:#2563eb;
  text-decoration:none;
}
.fd-link:hover{text-decoration:underline}
</style>
</head>

<body>

<header>
  <a href="https://calcworld.in/">CalcWorld</a>
</header>

<div class="card">
<h1>ðŸ“Œ Fixed Deposit Calculator</h1>

<!-- Deposit -->
<label>Deposit Amount (â‚¹)</label>
<input id="amount" value="10,00,000" inputmode="numeric">
<input type="range" id="amountRange" min="1000" max="100000000" step="1000">

<!-- Interest -->
<label>Interest Rate (% per year)</label>
<input id="rate" type="number" step="0.1">
<input type="range" id="rateRange" min="0.1" max="15" step="0.1">

<!-- Tenure -->
<label>Tenure</label>
<div class="tenure">
  <input id="tenureValue" type="number" inputmode="numeric">
  <select id="tenureType">
    <option value="years">Years</option>
    <option value="months">Months</option>
    <option value="days">Days</option>
  </select>
</div>

<!-- Compounding -->
<label>Compounding Frequency</label>
<select id="compound">
  <option value="4">Quarterly (Recommended)</option>
  <option value="12">Monthly</option>
  <option value="1">Yearly</option>
</select>

<p style="font-size:12px;color:#555">
<strong>Compounding:</strong> how often interest is added back to your FD.
Most Indian banks compound quarterly, giving slightly higher returns.
</p>

<!-- Result -->
<div class="result">
  ðŸ’° Maturity Amount<br>
  <strong id="maturity">â‚¹0</strong><br><br>
  ðŸ“ˆ Interest Earned<br>
  <strong id="interest">â‚¹0</strong>
</div>

<!-- Chart + FD link -->
<div class="chart">
  <canvas id="donut"></canvas><br>
  <a class="fd-link" href="/fd-calculator/fd-rates/">
    ðŸ“Š Check FD rates
  </a>
</div>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const amount=document.getElementById("amount");
const amountRange=document.getElementById("amountRange");
const rate=document.getElementById("rate");
const rateRange=document.getElementById("rateRange");
const tenureValue=document.getElementById("tenureValue");
const tenureType=document.getElementById("tenureType");
const compound=document.getElementById("compound");
const ctx=document.getElementById("donut").getContext("2d");

const MAX_AMOUNT=100000000;

/* â‚¹ helpers */
function formatINR(n){
  return "â‚¹"+Math.round(n).toLocaleString("en-IN");
}
function parseINR(v){
  return parseInt(v.replace(/,/g,""))||0;
}

/* ðŸ”’ HARD CLAMP TENURE (UPDATED) */
function clampTenure(){
  let v=parseInt(tenureValue.value)||1;

  if(tenureType.value==="years") v=Math.min(Math.max(v,1),20);
  if(tenureType.value==="months") v=Math.min(Math.max(v,1),12);
  if(tenureType.value==="days") v=Math.min(Math.max(v,1),500);

  tenureValue.value=v;

  if(tenureType.value==="years") return v;
  if(tenureType.value==="months") return v/12;
  return v/365;
}

let chart;
function drawChart(p,i){
  if(chart) chart.destroy();
  chart=new Chart(ctx,{
    type:"doughnut",
    data:{
      datasets:[{
        data:[p,i],
        backgroundColor:["#2563eb","#facc15"]
      }]
    },
    options:{
      cutout:"65%",
      plugins:{legend:{display:false}}
    }
  });
}

function calculate(){
  let P=parseINR(amount.value);
  if(P>MAX_AMOUNT) P=MAX_AMOUNT;
  amount.value=P.toLocaleString("en-IN");
  amountRange.value=P;

  let r=parseFloat(rate.value)||7;
  r=Math.min(Math.max(r,0.1),15);
  rate.value=r;
  rateRange.value=r;

  let t=clampTenure();
  let n=parseInt(compound.value);

  let A=P*Math.pow(1+r/100/n,n*t);
  let I=A-P;

  maturity.innerText=formatINR(A);
  interest.innerText=formatINR(I);
  drawChart(P,I);
}

/* ðŸ”„ Sync sliders */
amountRange.oninput=()=>{
  amount.value=parseInt(amountRange.value).toLocaleString("en-IN");
  calculate();
};
rateRange.oninput=()=>{
  rate.value=rateRange.value;
  calculate();
};

/* ðŸ”„ All inputs */
document.querySelectorAll("input,select").forEach(el=>{
  el.addEventListener("input",calculate);
});

calculate();
</script>

</body>
</html>
