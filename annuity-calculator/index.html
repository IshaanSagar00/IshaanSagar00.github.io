<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Annuity Calculator | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
body{
  font-family:Arial,sans-serif;
  background:#f6f7fb;
  margin:0;
}
header{
  background:#fff;
  padding:14px 22px;
  box-shadow:0 2px 6px rgba(0,0,0,.06);
}
header a{
  font-size:20px;
  font-weight:bold;
  color:#2563eb;
  text-decoration:none;
}
.container{
  max-width:420px;
  margin:40px auto;
  background:#fff;
  padding:24px;
  border-radius:14px;
  box-shadow:0 12px 30px rgba(0,0,0,.08);
}
h1{
  text-align:center;
  margin-bottom:25px;
}
label{
  font-weight:600;
  display:block;
  margin-top:18px;
}
input,select{
  width:100%;
  padding:10px;
  margin-top:6px;
  font-size:15px;
}
.range{
  margin-top:6px;
}
.value{
  float:right;
  color:#059669;
  font-weight:bold;
}
.mode{
  margin-top:18px;
}
.result{
  margin-top:24px;
  background:#f9fafb;
  padding:18px;
  border-radius:10px;
  text-align:center;
}
.amount{
  font-size:28px;
  font-weight:bold;
}
hr{
  margin:16px 0;
}
ul{
  padding-left:18px;
  font-size:14px;
}
.note{
  font-size:13px;
  color:#555;
  margin-top:6px;
}
a.more{
  display:inline-block;
  margin-top:12px;
  color:#2563eb;
  font-size:14px;
}
</style>
</head>
<body>

<header>
  <a href="/">CalcWorld</a>
</header>

<div class="container">
<h1>Annuity Calculator</h1>

<label>
Investment Amount (₹)
<span class="value" id="invShow">₹10,00,000</span>
</label>
<input type="number" id="investment" value="1000000" step="1" />
<input type="range" class="range" min="100000" max="50000000" step="10000" id="invRange" value="1000000" />

<label>
Annuity Rate (% p.a.)
<span class="value" id="rateShow">6.75%</span>
</label>
<input type="range" class="range" min="3" max="12" step="0.25" id="rate" value="6.75" />

<label>Payout Frequency</label>
<select id="frequency">
  <option value="monthly">Monthly</option>
  <option value="quarterly">Quarterly</option>
  <option value="yearly">Yearly</option>
</select>

<label>
Payout Duration (Years)
<span class="value" id="yearShow">10 years</span>
</label>
<input type="range" class="range" min="1" max="40" step="1" id="years" value="10" />

<div class="mode">
<label>
<input type="radio" name="mode" value="fixed" checked />
 Fixed income (capital preserved)
</label>
<label>
<input type="radio" name="mode" value="drawdown" />
 Income with capital drawdown
</label>
</div>

<div class="result">
<div class="amount" id="income">₹0</div>
<div>Income per payout</div>
<hr>
<div id="totalInfo"></div>
<div class="note">ⓘ Payouts start after the first payout period, not immediately.</div>
</div>

<ul>
<li>Fixed income pays interest only (capital remains intact)</li>
<li>Drawdown mode exhausts corpus by end of duration</li>
<li>No compounding between payouts</li>
<li>Rates decided by annuity provider</li>
<li>Income may be taxable as per slab</li>
</ul>

<a href="/annuity-information/" class="more">Learn more about annuity rules →</a>
</div>

<script>
const investment = document.getElementById("investment");
const invRange = document.getElementById("invRange");
const rate = document.getElementById("rate");
const frequency = document.getElementById("frequency");
const years = document.getElementById("years");
const incomeEl = document.getElementById("income");
const totalInfo = document.getElementById("totalInfo");

function formatINR(n){
  return "₹" + n.toLocaleString("en-IN",{maximumFractionDigits:0});
}

function calculate(){
  const P = Number(investment.value);
  const r = Number(rate.value)/100;
  const y = Number(years.value);
  const freq = frequency.value;
  const mode = document.querySelector('input[name="mode"]:checked').value;

  const freqMap = {monthly:12, quarterly:4, yearly:1};
  const n = freqMap[freq];
  const totalPayouts = y * n;
  const periodicRate = r / n;

  let payout = 0;

  if(mode === "fixed"){
    payout = (P * r) / n;
  }else{
    payout = P * periodicRate / (1 - Math.pow(1 + periodicRate, -totalPayouts));
  }

  const totalIncome = payout * totalPayouts;

  incomeEl.textContent = formatINR(payout);
  totalInfo.innerHTML = `
    Total Income Received: <b>${formatINR(totalIncome)}</b><br>
    Payout Duration: <b>${y} years</b>
  `;

  document.getElementById("invShow").textContent = formatINR(P);
  document.getElementById("rateShow").textContent = rate.value + "%";
  document.getElementById("yearShow").textContent = y + " years";
}

investment.oninput = () => {
  invRange.value = investment.value;
  calculate();
};
invRange.oninput = () => {
  investment.value = invRange.value;
  calculate();
};
rate.oninput = calculate;
frequency.onchange = calculate;
years.oninput = calculate;
document.querySelectorAll('input[name="mode"]').forEach(el=>el.onchange=calculate);

calculate();
</script>

</body>
</html>
