<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EMI Calculator with Prepayment Simulator | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Advanced EMI Calculator for India with lump sum and EMI increase prepayment simulator. See interest saved, tenure reduction and detailed comparison.">
<link rel="canonical" href="https://calcworld.in/emi-calculator/">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f5f6fa;
  margin:0;
}
.container {
  max-width:420px;
  background:#fff;
  margin:40px auto;
  padding:24px;
  border-radius:10px;
  box-shadow:0 6px 16px rgba(0,0,0,.1);
}
h1 { text-align:center; font-size:22px; }
label { font-weight:bold; margin-top:14px; display:block; }
input, select {
  width:100%;
  padding:10px;
  margin-top:6px;
  border-radius:6px;
  border:1px solid #ccc;
}
button {
  width:100%;
  margin-top:18px;
  padding:12px;
  background:#2563eb;
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}
.small-toggle {
  margin-top:10px;
  font-size:13px;
  color:#2563eb;
  cursor:pointer;
}
.advanced-box {
  display:none;
  border:1px solid #ddd;
  border-radius:8px;
  padding:12px;
  margin-top:10px;
}
.strategy {
  border:1px solid #ddd;
  padding:10px;
  border-radius:6px;
  margin-top:8px;
  cursor:pointer;
}
.strategy.active {
  border-color:#2563eb;
  background:#f1f5ff;
}
.result {
  background:#f1f5ff;
  padding:14px;
  border-radius:8px;
  margin-top:16px;
}
hr { border:none; border-top:1px solid #ddd; margin:12px 0; }
canvas { margin-top:16px; }
table {
  width:100%;
  border-collapse:collapse;
  margin-top:12px;
  font-size:13px;
}
th, td {
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
}
th { background:#f3f4f6; }
.footer {
  text-align:center;
  font-size:14px;
  margin:30px 0;
}
</style>
</head>

<body>
<div class="container">
<h1>EMI Calculator</h1>

<label>Loan Amount (₹)</label>
<input type="text" id="loan" placeholder="e.g. 17,50,000">

<label>Interest Rate (% per year)</label>
<input type="number" id="rate" placeholder="e.g. 10">

<label>Loan Tenure (years)</label>
<input type="number" id="years" placeholder="e.g. 3">

<div class="small-toggle" onclick="toggleAdvanced()">▶ Advanced Prepayment Options (optional)</div>

<div class="advanced-box" id="advancedBox">
  <strong>Choose Strategy</strong>

  <div class="strategy active" id="lumpCard" onclick="selectStrategy('lump')">
    <b>Lump Sum Prepayment</b><br>
    Pay fixed extra amount at intervals to reduce principal.
  </div>

  <div class="strategy" id="emiCard" onclick="selectStrategy('emi')">
    <b>Permanent EMI Increase</b><br>
    Increase EMI permanently by ₹ or %.
  </div>

  <hr>

  <div id="lumpFields">
    <label>Extra Amount (₹)</label>
    <input type="number" id="lumpAmount" value="50000">

    <label>Frequency</label>
    <select id="lumpFreq">
      <option value="1">One-time</option>
      <option value="3">Every 3 months</option>
      <option value="6">Every 6 months</option>
      <option value="12">Every 12 months</option>
    </select>
  </div>

  <div id="emiFields" style="display:none">
    <label>Increase Type</label>
    <select id="emiType">
      <option value="percent">Percentage (%)</option>
      <option value="fixed">Fixed Amount (₹)</option>
    </select>

    <label>Increase Value</label>
    <input type="number" id="emiValue" value="10">

    <label>Frequency</label>
    <select id="emiFreq">
      <option value="1">One-time</option>
      <option value="6">Every 6 months</option>
      <option value="12">Every 12 months</option>
    </select>
  </div>
</div>

<button onclick="calculate()">Calculate EMI</button>

<div id="output"></div>
<canvas id="chart"></canvas>
</div>

<div class="footer">
<a href="https://calcworld.in/">Home</a> |
<a href="/privacy-policy.html">Privacy</a> |
<a href="/terms.html">Terms</a>
</div>

<script>
let strategy = "lump";
let chart;

function toggleAdvanced() {
  const box = document.getElementById("advancedBox");
  box.style.display = box.style.display === "none" ? "block" : "none";
}

function selectStrategy(type) {
  strategy = type;
  document.getElementById("lumpCard").classList.toggle("active", type==="lump");
  document.getElementById("emiCard").classList.toggle("active", type==="emi");
  document.getElementById("lumpFields").style.display = type==="lump" ? "block":"none";
  document.getElementById("emiFields").style.display = type==="emi" ? "block":"none";
}

function fmt(n){ return new Intl.NumberFormat("en-IN").format(Math.round(n)); }

function parseLoan(){
  return Number(document.getElementById("loan").value.replace(/,/g,""));
}

document.getElementById("loan").addEventListener("input", e=>{
  let v = e.target.value.replace(/,/g,"").replace(/\D/g,"");
  if(!v) return e.target.value="";
  let last=v.slice(-3), rest=v.slice(0,-3);
  if(rest) last=","+last;
  e.target.value = rest.replace(/\B(?=(\d{2})+(?!\d))/g,",")+last;
});

function calculate(){
  const P = parseLoan();
  const R = document.getElementById("rate").value/12/100;
  const N = document.getElementById("years").value*12;
  if(!P||!R||!N) return;

  let emi = (P*R*Math.pow(1+R,N))/(Math.pow(1+R,N)-1);
  let bal = P, month=0, interestPaid=0, extraPaid=0;
  let currEMI = emi;

  while(bal>0 && month<600){
    month++;
    let interest = bal*R;
    let principal = currEMI-interest;
    bal -= principal;
    interestPaid += interest;

    if(strategy==="lump"){
      const f = Number(document.getElementById("lumpFreq").value);
      if((f===1 && month===1) || (f>1 && month%f===0)){
        let extra = Number(document.getElementById("lumpAmount").value);
        bal -= extra;
        extraPaid += extra;
      }
    } else {
      const f = Number(document.getElementById("emiFreq").value);
      if((f===1 && month===1) || (f>1 && month%f===0)){
        if(document.getElementById("emiType").value==="percent")
          currEMI *= (1 + Number(document.getElementById("emiValue").value)/100);
        else
          currEMI += Number(document.getElementById("emiValue").value);
      }
    }
    if(bal<0) bal=0;
  }

  let baseTotal = emi*N;
  let baseInterest = baseTotal - P;
  let newTotal = interestPaid + P + extraPaid;

  document.getElementById("output").innerHTML = `
  <div class="result">
  <b>Original EMI:</b> ₹${fmt(emi)}<br>
  <b>Original Tenure:</b> ${N} months<br>
  <b>Total Interest:</b> ₹${fmt(baseInterest)}<hr>

  <b>New Tenure:</b> ${month} months<br>
  <b>Interest Saved:</b> ₹${fmt(baseInterest-interestPaid)}<br>
  <b>Extra Paid:</b> ₹${fmt(extraPaid)}
  </div>

  <table>
  <tr><th>Metric</th><th>Before</th><th>After</th><th>Saving</th></tr>
  <tr><td>Total Paid</td><td>₹${fmt(baseTotal)}</td><td>₹${fmt(newTotal)}</td><td>₹${fmt(baseTotal-newTotal)}</td></tr>
  <tr><td>Interest</td><td>₹${fmt(baseInterest)}</td><td>₹${fmt(interestPaid)}</td><td>₹${fmt(baseInterest-interestPaid)}</td></tr>
  <tr><td>Tenure</td><td>${N} mo</td><td>${month} mo</td><td>${N-month} mo</td></tr>
  </table>
  `;

  drawChart(baseTotal, baseInterest, newTotal, interestPaid);
}

function drawChart(bt, bi, nt, ni){
  if(chart) chart.destroy();
  chart = new Chart(document.getElementById("chart"), {
    type:"bar",
    data:{
      labels:["Without Extra","With Extra"],
      datasets:[
        {label:"Total Paid", data:[bt,nt], backgroundColor:"#22c1dc"},
        {label:"Interest Paid", data:[bi,ni], backgroundColor:"#ef4444"}
      ]
    },
    options:{
      responsive:true,
      plugins:{legend:{position:"top"}}
    }
  });
}
</script>
</body>
</html>
