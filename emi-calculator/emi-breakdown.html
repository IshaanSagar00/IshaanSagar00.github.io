<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Monthly EMI Breakdown (Running Loan) | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Monthly EMI breakdown for running loans with EMI increase and lump sum comparison.">
<link rel="canonical" href="https://calcworld.in/emi-calculator/emi-breakdown.html">

<style>
body{font-family:Arial,sans-serif;background:#f6f7fb;padding:20px}
.site-header{position:sticky;top:0;background:#fff;padding:12px 20px;border-bottom:1px solid #e5e7eb;z-index:1000}
.site-header .brand{font-size:20px;font-weight:bold;color:#2563eb;text-decoration:none}
.card{max-width:1100px;margin:auto;background:#fff;padding:25px;border-radius:10px;box-shadow:0 10px 25px rgba(0,0,0,.08)}
h1{text-align:center}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px}
label{font-weight:bold;font-size:14px}
input,select{width:100%;padding:10px;margin-top:6px;font-size:14px}
button{margin-top:15px;padding:12px;font-size:16px;background:#2563eb;color:#fff;border:none;border-radius:6px;cursor:pointer}
.box{margin-top:20px;padding:16px;border:1px solid #ddd;border-radius:8px}
.hidden{display:none}
table{width:100%;border-collapse:collapse;margin-top:20px;font-size:14px}
th,td{border:1px solid #ddd;padding:8px;text-align:right}
th{background:#f1f5f9}
th:first-child,td:first-child{text-align:left}
tr.current{background:#e0f2fe;font-weight:bold}
.note{margin-top:15px;font-size:13px;color:#555;background:#fafafa;padding:10px;border-radius:6px}
.dark th{background:#111;color:#fff}
.dark td{background:#1a1a1a;color:#eee}
</style>
</head>

<body>

<header class="site-header">
  <a href="https://calcworld.in" class="brand">CalcWorld</a>
</header>

<div class="card">
<h1>Monthly EMI Breakdown (Running Loan)</h1>

<div class="grid">
  <div>
    <label>Loan Amount (₹)</label>
    <input id="loan" placeholder="e.g 10,00,000">
  </div>
  <div>
    <label>Interest Rate (% per year)</label>
    <input type="number" id="rate">
  </div>
  <div>
    <label>Loan Tenure</label>
    <div style="display:flex;gap:6px">
      <input type="number" id="tenure">
      <select id="tenureType">
        <option value="years">Years</option>
        <option value="months">Months</option>
      </select>
    </div>
  </div>
  <div>
    <label>EMI Start Month</label>
    <div style="display:flex;gap:6px">
      <select id="startMonth"></select>
      <select id="startYear"></select>
    </div>
  </div>
</div>

<div class="box">
<b>Advanced Options</b>

<label>Strategy</label>
<select id="strategy">
  <option value="none">None</option>
  <option value="emi">EMI Increase</option>
</select>

<div id="emiBox" class="hidden">
  <label>Increase Type</label>
  <select id="emiType">
    <option value="percent">Percentage (%)</option>
    <option value="amount">Fixed Amount (₹)</option>
  </select>

  <label>Increase Value</label>
  <input type="number" id="emiValue">

  <label>Frequency</label>
  <select id="emiFreq">
    <option value="6">Every 6 months</option>
    <option value="12">Every 12 months</option>
  </select>
</div>
</div>

<button onclick="generate()">Generate Breakdown</button>

<div id="summary" class="box hidden"></div>
<div id="comparison" class="box hidden"></div>
<div id="table"></div>

</div>

<script>
const months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function fillMonthYear(m,y){
  m.innerHTML=months.map((x,i)=>`<option value="${i}">${x}</option>`).join("");
  for(let i=1990;i<=2050;i++)y.innerHTML+=`<option>${i}</option>`;
}
fillMonthYear(startMonth,startYear);
startYear.value=new Date().getFullYear();

loan.oninput=e=>{
  let v=e.target.value.replace(/\D/g,"");
  e.target.value=v?Number(v).toLocaleString("en-IN"):"";
};

strategy.onchange=()=>emiBox.classList.toggle("hidden",strategy.value!=="emi");

function inr(n){return n.toLocaleString("en-IN")}

function generate(){
  const P=+loan.value.replace(/,/g,"");
  const r=+rate.value/12/100;
  const t=+tenure.value;
  const N=tenureType.value==="years"?t*12:t;
  if(!P||!r||!N)return alert("Fill all fields");

  const EMI=P*r*Math.pow(1+r,N)/(Math.pow(1+r,N)-1);

  // NORMAL
  let bal=P,baseI=0;
  for(let i=1;i<=N;i++){let x=bal*r;baseI+=x;bal-=EMI-x;}

  // SIMPLE SUMMARY
  summary.innerHTML=`
  <h3>Loan Summary</h3>
  <p><b>Monthly EMI:</b> ₹${inr(Math.round(EMI))}</p>
  <p><b>Tenure:</b> ${N} months</p>
  <p><b>Total Interest:</b> ₹${inr(Math.round(baseI))}</p>
  <p><b>Total Amount Paid:</b> ₹${inr(Math.round(P+baseI))}</p>`;
  summary.classList.remove("hidden");

  if(strategy.value==="none"){
    comparison.classList.add("hidden");
    return;
  }

  // ADVANCED
  let balA=P,curEMI=EMI,advI=0;
  let freq=+emiFreq.value;
  let inc=+emiValue.value;
  let rows=[],slabs=[];
  let m=0;

  while(balA>0&&m<600){
    m++;
    if(m>1&&(m-1)%freq===0){
      curEMI=emiType.value==="percent"
        ?curEMI*(1+inc/100)
        :curEMI+inc;
      slabs.push({from:m,emi:Math.round(curEMI)});
    }
    let i=balA*r;advI+=i;
    let p=Math.min(curEMI-i,balA);
    balA-=p;
  }

  // COMPARISON TABLE
  let slabRows=slabs.map((s,i)=>{
    let to=i+1<slabs.length?slabs[i+1].from-1:m;
    return `<tr>
      <td>Month ${s.from}-${to}</td>
      <td>₹${inr(Math.round(EMI))}</td>
      <td>₹${inr(s.emi)}</td>
      <td>+₹${inr(s.emi-Math.round(EMI))}/month</td>
    </tr>`;
  }).join("");

  comparison.innerHTML=`
  <h3>Comprehensive Comparison</h3>
  <table class="dark">
    <tr>
      <th>Metric</th>
      <th>Regular</th>
      <th>With Increase</th>
      <th>Advantage</th>
    </tr>
    ${slabRows}
    <tr>
      <td>Total Tenure</td>
      <td>${N} months</td>
      <td>${m} months</td>
      <td>${N-m} months faster</td>
    </tr>
    <tr>
      <td>Total Interest</td>
      <td>₹${inr(Math.round(baseI))}</td>
      <td>₹${inr(Math.round(advI))}</td>
      <td>₹${inr(Math.round(baseI-advI))} saved</td>
    </tr>
    <tr>
      <td>Total Paid</td>
      <td>₹${inr(Math.round(P+baseI))}</td>
      <td>₹${inr(Math.round(P+advI))}</td>
      <td>₹${inr(Math.round(baseI-advI))} less</td>
    </tr>
  </table>`;
  comparison.classList.remove("hidden");
}
</script>
</body>
</html>
