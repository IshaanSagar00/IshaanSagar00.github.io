<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Reality-Check Trading Calculator | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{font-family:Arial,sans-serif;background:#f6f7fb;margin:0}
header{background:#fff;padding:14px 24px;box-shadow:0 2px 4px rgba(0,0,0,.05)}
header a{text-decoration:none;color:#2563eb;font-size:20px;font-weight:bold}
.container{max-width:520px;margin:40px auto;background:#fff;padding:22px;border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.08)}
label{font-size:14px;margin-top:14px;display:block}
input,select{width:100%;padding:10px;font-size:16px;margin-top:6px;border-radius:8px;border:1px solid #ccc}
input[type=range]{padding:0}
button{width:100%;margin-top:20px;padding:12px;font-size:16px;border:none;border-radius:10px;background:#2563eb;color:#fff;cursor:pointer}
.result{margin-top:22px;background:#f1f5ff;padding:16px;border-radius:10px}
.green{color:#16a34a;font-weight:bold}
.red{color:#dc2626;font-weight:bold}
.small{font-size:12px;color:#555}
</style>
</head>

<body>

<header>
  <a href="/">CalcWorld</a>
</header>

<div class="container">
<h2>Reality-Check Trading Calculator</h2>

<label>Starting Capital (₹)</label>
<input type="text" id="capitalDisplay" value="₹10,00,000">
<input type="range" id="capitalRange" min="10000" max="1000000" step="10000" value="1000000">

<label>Trading Segment</label>
<select id="segment">
  <option value="intraday">Equity – Intraday</option>
  <option value="fo">F&O – Intraday</option>
</select>

<label>Trade Frequency</label>
<select id="frequency">
  <option value="daily">Daily (250 trades)</option>
  <option value="weekly">Weekly (52 trades)</option>
  <option value="monthly">Monthly (12 trades)</option>
</select>

<label>Average Profit per Trade (%)</label>
<input type="number" id="avgProfit" min="0" max="20" step="0.01" value="3">
<input type="range" min="0" max="20" step="0.01" value="3"
oninput="avgProfit.value=this.value">

<label>Average Loss per Trade (%)</label>
<input type="number" id="avgLoss" min="0" max="20" step="0.01" value="1">
<input type="range" min="0" max="20" step="0.01" value="1"
oninput="avgLoss.value=this.value">

<label>Win Rate (%)</label>
<input type="number" id="winRate" min="0" max="100" value="60">
<input type="range" min="0" max="100" value="60"
oninput="winRate.value=this.value">

<label>
<input type="checkbox" id="includeCharges" checked>
 Include brokerage & statutory charges
</label>

<button onclick="run()">Run Reality Check</button>

<div class="result" id="output"></div>

<p class="small">
Disclaimer: This calculator is for educational purposes only. Results depend entirely
on user-provided assumptions. Trading involves risk. This tool is not SEBI endorsed.
</p>
</div>

<script>
let capital=1000000;

function formatINR(n){
  return "₹"+Math.round(n).toLocaleString("en-IN");
}

capitalRange.oninput=()=>{
  capital=parseInt(capitalRange.value);
  capitalDisplay.value=formatINR(capital);
};

capitalDisplay.onblur=()=>{
  capital=Math.min(1000000,Math.max(10000,
    parseInt(capitalDisplay.value.replace(/[^0-9]/g,""))||10000));
  capitalRange.value=capital;
  capitalDisplay.value=formatINR(capital);
};

function tradesCount(freq){
  if(freq==="daily")return 250;
  if(freq==="weekly")return 52;
  return 12;
}

function charges(turnover,segment){
  let brokerage=40;
  let variableRate=segment==="fo"?0.00010:0.000035;
  return brokerage+(turnover*variableRate);
}

function run(){
  let cap=capital;
  let trades=tradesCount(frequency.value);
  let totalCharges=0;

  let p=avgProfit.value/100;
  let l=avgLoss.value/100;
  let win=winRate.value/100;

  for(let i=0;i<trades;i++){
    let turnover=cap;
    let pnl=(Math.random()<=win)?
      turnover*p : -turnover*l;

    let c=includeCharges.checked?
      charges(turnover,segment.value):0;

    cap+=pnl-c;
    totalCharges+=c;

    if(cap<=0){cap=0;break;}
  }

  let profit=cap-capital;
  let verdict=profit>0?"Positive Expectancy":"Negative Expectancy";

  output.innerHTML=`
  <b>Final Capital:</b> ${formatINR(cap)}<br><br>
  <b>Net Profit:</b> <span class="${profit>=0?'green':'red'}">
  ${formatINR(profit)}</span><br><br>
  <b>Total Charges Paid:</b> ${formatINR(totalCharges)}<br><br>
  <b>Verdict:</b> <span class="${profit>=0?'green':'red'}">${verdict}</span>
  `;
}
</script>

</body>
</html>
