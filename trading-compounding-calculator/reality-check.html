<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Reality-Check Trading Calculator | CalcWorld</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial,sans-serif;background:#f6f7fb;margin:0}
header{background:#fff;padding:14px 24px;box-shadow:0 2px 4px rgba(0,0,0,.05)}
header a{text-decoration:none;color:#2563eb;font-size:20px;font-weight:bold}

.container{
  max-width:560px;margin:40px auto;background:#fff;
  padding:22px;border-radius:12px;
  box-shadow:0 10px 25px rgba(0,0,0,.08)
}

label{margin-top:14px;display:block;font-size:14px}
input,select{width:100%;padding:10px;margin-top:6px;border-radius:8px;border:1px solid #ccc}
input[type=range]{padding:0}

.segment{display:flex;gap:8px;margin-top:10px}
.segment button{flex:1;padding:10px;border-radius:8px;border:1px solid #ddd;background:#fff}
.segment button.active{background:#e0f2fe;border-color:#2563eb;color:#2563eb;font-weight:bold}

button.main{width:100%;margin-top:20px;padding:12px;font-size:16px;
border:none;border-radius:10px;background:#2563eb;color:#fff}

.result{margin-top:22px;background:#f1f5ff;padding:16px;border-radius:10px;display:none}
.green{color:#16a34a;font-weight:bold}
.red{color:#dc2626;font-weight:bold}

.disclaimer{margin-top:20px;padding:12px;background:#fff7ed;border:1px solid #fed7aa;
border-radius:8px;font-size:12px;color:#7c2d12}
</style>
</head>

<body>

<header>
  <a href="/trading-compounding-calculator/">← Trading Calculator</a>
</header>

<div class="container">
<h2>Reality-Check Trading Calculator</h2>

<label>Starting Capital (₹)</label>
<input type="text" id="capitalDisplay" value="₹1,00,000">
<input type="range" id="capitalRange" min="1000" max="1000000" step="1000" value="100000">

<label>Trading Segment</label>
<div class="segment">
  <button id="deliveryBtn" class="active" onclick="setSegment('delivery')">Equity – Delivery</button>
  <button id="intradayBtn" onclick="setSegment('intraday')">Equity – Intraday</button>
  <button id="fnoBtn" onclick="setSegment('fno')">F&O – Intraday</button>
</div>

<label>Profit / Loss Frequency</label>
<select id="frequency">
  <option value="daily">Daily</option>
  <option value="weekly">Weekly</option>
  <option value="monthly">Monthly</option>
</select>

<label>Average Profit per Trade (%)</label>
<input type="number" id="avgProfit" min="0" max="20" step="0.1" value="3">

<label>Average Loss per Trade (%)</label>
<input type="number" id="avgLoss" min="0" max="20" step="0.1" value="1">

<label>Win Rate (%)</label>
<input type="number" id="winRate" min="0" max="100" step="1" value="50">

<label><input type="checkbox" id="includeCharges" checked> Include charges</label>
<label><input type="checkbox" id="compoundToggle"> Apply Compounding</label>

<button class="main" onclick="calculate()">Run Reality Check</button>

<div class="result" id="resultBox"></div>

<div class="disclaimer">
This tool is for educational purposes only. Trading involves risk. Not SEBI endorsed.
</div>
</div>

<script>
let capital=100000,segment="delivery";

function formatINR(n){return "₹"+Math.round(n).toLocaleString("en-IN")}

capitalRange.oninput=()=>{capital=parseInt(capitalRange.value);capitalDisplay.value=formatINR(capital)}
capitalDisplay.onblur=()=>{capital=parseInt(capitalDisplay.value.replace(/[^0-9]/g,""))||1000;capitalRange.value=capital;capitalDisplay.value=formatINR(capital)}

function setSegment(s){
segment=s;
["deliveryBtn","intradayBtn","fnoBtn"].forEach(i=>document.getElementById(i).classList.remove("active"));
document.getElementById(s+"Btn").classList.add("active");
}

function chargesPerTrade(turnover){
let stt=0,ex=0,sebi=0,stamp=0,broker=0,gst=0;
if(segment==="delivery"){
stt=0.001*turnover;
ex=0.0000325*turnover;
sebi=(10/10000000)*turnover;
stamp=0.00015*(turnover/2);
gst=0.18*(ex+sebi);
}
if(segment==="intraday"){
broker=Math.min(0.0003*turnover,40);
stt=0.00025*(turnover/2);
ex=0.0000325*turnover;
sebi=(10/10000000)*turnover;
stamp=0.00003*(turnover/2);
gst=0.18*(broker+ex+sebi);
}
if(segment==="fno"){
broker=40;
stt=0.0001*(turnover/2);
ex=0.00002*turnover;
sebi=(10/10000000)*turnover;
stamp=0.00002*(turnover/2);
gst=0.18*(broker+ex+sebi);
}
return broker+stt+ex+sebi+stamp+gst;
}

function calculate(){
let p=avgProfit.value/100,l=avgLoss.value/100,w=winRate.value/100;
let E=(w*p)-((1-w)*l);

let trades=frequency.value==="daily"?20:frequency.value==="weekly"?8:2;
let periods=12;

let periodReturnRate=E*trades;
let turnover=capital*2;
let charges=includeCharges.checked?chargesPerTrade(turnover)*trades:0;

let finalCap;
if(compoundToggle.checked){
finalCap=capital*Math.pow(1+periodReturnRate,periods)-(charges*periods);
}else{
finalCap=capital+(capital*periodReturnRate*periods)-(charges*periods);
}

let yearlyNet=finalCap-capital;
let verdict=yearlyNet>0?"<span class='green'>Positive Expectancy</span>":"<span class='red'>Negative Expectancy</span>";

resultBox.innerHTML=`
<p><strong>Yearly Net Profit:</strong> ${formatINR(yearlyNet)}</p>
<p><strong>Final Capital:</strong> ${formatINR(finalCap)}</p>
<p><strong>Total Charges Paid:</strong> ${formatINR(charges*periods)}</p>
<p><strong>Mode:</strong> ${compoundToggle.checked?"Compounded":"Non-Compounded"}</p>
<p><strong>Verdict:</strong> ${verdict}</p>
`;
resultBox.style.display="block";
}
</script>

</body>
</html>
